@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-slate-900 text-white select-none overflow-hidden touch-none; /* Prevent scrolling and selection for app-feel */
    overscroll-behavior: none;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }
}

/* Custom utilities for app-like behavior */
.safe-area-top {
  padding-top: env(safe-area-inset-top);
}
.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}
.safe-area-left {
  padding-left: env(safe-area-inset-left);
}
.safe-area-right {
  padding-right: env(safe-area-inset-right);
}

/* Portrait-only safe area (for progress bar below Dynamic Island) */
@media (orientation: portrait) {
  .portrait-safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
}

/* Landscape safe areas (for Dynamic Island on sides) */
@media (orientation: landscape) {
  .landscape-safe-area-left {
    padding-left: env(safe-area-inset-left);
  }
  .landscape-safe-area-right {
    padding-right: env(safe-area-inset-right);
  }
}

/* Safe area inset variables as margin (for absolutely positioned elements) */
.safe-margin-top {
  margin-top: env(safe-area-inset-top);
}
@media (orientation: portrait) {
  .portrait-safe-margin-top {
    margin-top: env(safe-area-inset-top);
  }
}
@media (orientation: landscape) {
  .landscape-safe-margin-left {
    margin-left: env(safe-area-inset-left);
  }
  .landscape-safe-margin-right {
    margin-right: env(safe-area-inset-right);
  }
}

/* Custom animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInRight {
  from { opacity: 0; transform: translateX(20px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes popIn {
  0% { opacity: 0; transform: scale(0.5); }
  70% { transform: scale(1.1); }
  100% { opacity: 1; transform: scale(1); }
}

@keyframes bounceSubtle {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out forwards;
}

.animate-fade-in-right {
  animation: fadeInRight 0.4s ease-out forwards;
}

.animate-fade-in-up {
  animation: fadeInUp 0.4s ease-out forwards;
}

.animate-pop-in {
  animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

.animate-bounce-subtle {
  animation: bounceSubtle 2s infinite ease-in-out;
}

/* Mask gradients for fade effects */
.mask-fade-bottom {
  mask: linear-gradient(to bottom, black calc(100% - 2rem), transparent 100%);
  -webkit-mask: linear-gradient(
    to bottom,
    black calc(100% - 2rem),
    transparent 100%
  );
}

.mask-fade-y {
  mask: linear-gradient(
    to bottom,
    transparent 0%,
    black 1rem,
    black calc(100% - 1rem),
    transparent 100%
  );
  -webkit-mask: linear-gradient(
    to bottom,
    transparent 0%,
    black 1rem,
    black calc(100% - 1rem),
    transparent 100%
  );
}
